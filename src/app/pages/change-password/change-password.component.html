<app-toast *ngIf="showToast" [success]="false" [message]="toastMessage"></app-toast>
<div class="container">
  <div class="header">
    <fa-icon class="icon" [icon]="faArrowLeft" [routerLink]="['/welcome']"></fa-icon>
    <h1 class="page-title">Recuperar palavra-passe</h1>
  </div>
  <div class="description">
    <h4>
      Preenche os campos com a tua nova palavra-passe
    </h4>
  </div>
  <div class="signup-form" [formGroup]="form">
    <div class="form-field">
      <label class="form-label">Password</label>
      <div class="password-container">
        <input class="form-input" label="password" [type]="showPassword ? 'text' : 'password'" placeholder="Introduza uma password" required
               formControlName="password"/>
        <fa-icon class="password-icon" [icon]="showPassword ? faEye : faEyeSlash" (mousedown)="toggleShowPassword()" (mouseup)="toggleShowPassword()"></fa-icon>
      </div>
      <div class="password-container">
        <input class="form-input" label="confirmPassword" [type]="showPasswordConfirm ? 'text' : 'password'" placeholder="Confirme a password" required
               formControlName="confirmPassword"/>
        <fa-icon class="password-icon" [icon]="showPasswordConfirm ? faEye : faEyeSlash" (mousedown)="toggleShowPassword(true)" (mouseup)="toggleShowPassword(true)"></fa-icon>
      </div>
      <div class="invalid-input-warning" *ngIf="form.get('password')?.invalid && form.get('password')?.dirty && form.get('password')?.touched">
        A password deverá conter pelo menos 5 caracteres, uma letra, um número e um caracter especial.
      </div>
      <div class="invalid-input-warning" *ngIf="form.get('confirmPassword')?.invalid && form.get('confirmPassword')?.dirty && form.get('confirmPassword')?.touched">
        As passwords não coincidem.
      </div>
    </div>
  </div>
  <button class="dark-blue-button" (click)="submeter()">Submeter</button>
  <div class="check-inputs-message" *ngIf="showError" @fade>
    <p class="warning-text">{{errorMessage}}</p>
  </div>
</div>
